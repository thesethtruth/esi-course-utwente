
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>1 tutorial: Energy data analysis &#8212; Energy system modelling workshop ESI</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!-- 
    this give us a css class that will be invisible only if js is disabled 
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=26a4bc78f4c0ddb94549"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549" />

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = '01-tutorial-data-analysis';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="1 exercises: Data analysis" href="01-exercises-data-analysis.html" />
    <link rel="prev" title="Welcome" href="intro.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="Energy system modelling workshop ESI - Home"/>
    <img src="_static/logo.png" class="logo__image only-dark pst-js-only" alt="Energy system modelling workshop ESI - Home"/>
  
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Welcome
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">1 tutorial: Energy data analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="01-exercises-data-analysis.html">1 exercises: Data analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="02-tutorial-scenario-modelling.html">2 tutorial: Scenario modelling</a></li>
<li class="toctree-l1"><a class="reference internal" href="02-exercises-scenario-modelling.html">2 exercises: Scenario modelling</a></li>
<li class="toctree-l1"><a class="reference internal" href="03-tutorial-capacity-expansion.html">3 tutorial: Capacity expansion</a></li>
<li class="toctree-l1"><a class="reference internal" href="03-exercises-capacity-expansion.html">3 exercises: Capacity expansion</a></li>
<li class="toctree-l1"><a class="reference internal" href="04-tutorial-storage-and-interconnection.html">4 tutorial: Storage, dispatchable generation and interconnection</a></li>
<li class="toctree-l1"><a class="reference internal" href="04-exercises-storage-and-interconnection.html">4 exercises: Storage, dispatchable generation and interconnection</a></li>
<li class="toctree-l1"><a class="reference internal" href="conclusion.html">Conclusion</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://colab.research.google.com/github/thesethtruth/esi-course-utwente/blob/main/esi-modelling-workshop/01-tutorial-data-analysis.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Colab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Colab logo" src="_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
  </ul>
</div>



<a href="https://github.com/thesethtruth/esi-course-utwente" target="_blank"
   class="btn btn-sm btn-source-repository-button"
   title="Source repository"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/01-tutorial-data-analysis.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>1 tutorial: Energy data analysis</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fetching-the-data">Fetching the data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#renewable-generation">Renewable generation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#wind-energy-generation-parameters">Wind energy generation parameters</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#solar-energy-generation-parameters">Solar energy generation parameters</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#energy-demand">Energy demand</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#load-the-data">Load the data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#visualise-the-generation-data">Visualise the generation data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#analyse-the-plot">Analyse the plot</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#statistical-indicators-of-energy-generation">Statistical indicators of energy generation</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#energy-demand-analysis">Energy demand analysis</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#plot-the-energy-demand">Plot the energy demand</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#analysis-of-electricity-demand-curves">Analysis of electricity demand curves</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#analysis-of-peak-energy-and-energy-share-graph">Analysis of peak energy and energy share graph</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion">Conclusion</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="tutorial-energy-data-analysis">
<h1>1 tutorial: Energy data analysis<a class="headerlink" href="#tutorial-energy-data-analysis" title="Link to this heading">#</a></h1>
<p>This tutorial will learn you how to use data analysis to obtain insight into the context of your energy system. This allows you to get a feeling for the challenges you will have to solve using energy system integration. By first understanding the context, you can better formulate your research questions and hypothesis. Moreover, it forms the fundamental understanding of your energy system that will allow you to explain system dynamics that arise.</p>
<section id="fetching-the-data">
<h2>Fetching the data<a class="headerlink" href="#fetching-the-data" title="Link to this heading">#</a></h2>
<section id="renewable-generation">
<h3>Renewable generation<a class="headerlink" href="#renewable-generation" title="Link to this heading">#</a></h3>
<p>For this tutorial, we will use renewable energy generation curves from <a class="reference external" href="https://renewables.ninja/">Renewables.ninjas</a>. For both the solar and wind energy generation curves, we select a central part of the Netherlands as location.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We use 1 kW as capacity because then we can use it for capacity expansion problems. This gives us a unity curve we can scale up or down for the deployed capacity or use as the <code class="docutils literal notranslate"><span class="pre">p_max_pu</span></code> (maximum power per unit).</p>
</div>
</section>
<section id="wind-energy-generation-parameters">
<h3>Wind energy generation parameters<a class="headerlink" href="#wind-energy-generation-parameters" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Vestas V90 2000</p></li>
<li><p>80m hubheight</p></li>
<li><p>1 kW capacity</p></li>
<li><p>MERRA-2 dataset</p></li>
<li><p>2019</p></li>
</ul>
</section>
<section id="solar-energy-generation-parameters">
<h3>Solar energy generation parameters<a class="headerlink" href="#solar-energy-generation-parameters" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Azimuth 180 degrees (south facing)</p></li>
<li><p>Tilt 35 degrees (maximum yearly yield)</p></li>
<li><p>1 kW capacity</p></li>
<li><p>MERRA-2 dataset</p></li>
<li><p>2019</p></li>
</ul>
</section>
<section id="energy-demand">
<h3>Energy demand<a class="headerlink" href="#energy-demand" title="Link to this heading">#</a></h3>
<p>For the energy demand, we will use the <a class="reference external" href="https://energytransitionmodel.com/">Energy Transition Model</a>. We will use one of the scenarios of the Integral Grid Outlook (II3050) for the horizon year 2050: <a class="reference external" href="https://energytransitionmodel.com/saved_scenarios/14552">Decentral Incentives</a>. To download the timeseries from this scenario we follow the following steps:</p>
<ol class="arabic simple">
<li><p>Open the scenario</p></li>
<li><p>Navigate to <code class="docutils literal notranslate"><span class="pre">Results</span> <span class="pre">&amp;</span> <span class="pre">data</span></code></p></li>
<li><p>Click on <code class="docutils literal notranslate"><span class="pre">Data</span> <span class="pre">export</span></code></p></li>
<li><p>Select the <code class="docutils literal notranslate"><span class="pre">Hourly</span> <span class="pre">curves</span> <span class="pre">for</span> <span class="pre">electricity</span></code> tab</p></li>
<li><p>Click the <code class="docutils literal notranslate"><span class="pre">Electricity</span> <span class="pre">load</span> <span class="pre">curves</span></code> CSV icon</p></li>
</ol>
</section>
</section>
<section id="load-the-data">
<h2>Load the data<a class="headerlink" href="#load-the-data" title="Link to this heading">#</a></h2>
<p>Before we can start loading the data, we will have to import the required modules. This is Pandas for working with the tabular data. And seaborn for the visualisation. Seaborn uses matplotlib as basis for plotting, which we will also import.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># import required modules</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>
</div>
</div>
</div>
<p>Now we can start loading the data. Assuming you have made a <code class="docutils literal notranslate"><span class="pre">/data</span></code> folder relative to your Python file containing these files, we can load the data. We use <code class="docutils literal notranslate"><span class="pre">UPPERCASE</span></code> variables in Python to designate constants. It is considered a best practice to use constants to point to file paths.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ETM_CURVES_FP</span> <span class="o">=</span> <span class="s2">&quot;data/merit_order.csv&quot;</span>
<span class="n">WIND_FP</span> <span class="o">=</span> <span class="s2">&quot;data/wind.csv&quot;</span>
<span class="n">SOLAR_FP</span> <span class="o">=</span> <span class="s2">&quot;data/solar.csv&quot;</span>

<span class="n">etm_demand_supply</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">ETM_CURVES_FP</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">wind</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">WIND_FP</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">solar</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">SOLAR_FP</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># For wind and solar, we want to drop the &#39;local_time&#39; column</span>
<span class="n">wind</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;local_time&#39;</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">solar</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;local_time&#39;</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Convert the index to datetime</span>
<span class="n">solar</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">solar</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">wind</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">wind</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<section id="visualise-the-generation-data">
<h3>Visualise the generation data<a class="headerlink" href="#visualise-the-generation-data" title="Link to this heading">#</a></h3>
<p>With the files loaded, we can visualise the energy generation data. We will first set the seaborn theming and initiate the plot.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set the seaborn style</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_theme</span><span class="p">(</span><span class="s2">&quot;notebook&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rc</span><span class="p">(</span><span class="s2">&quot;axes.spines&quot;</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">cm</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">color_palette</span><span class="p">()</span>

<span class="c1"># Set up the matplotlib figure</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">hspace</span><span class="o">=</span><span class="mf">0.4</span><span class="p">)</span>

<span class="n">wind</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
    <span class="n">kind</span><span class="o">=</span><span class="s2">&quot;area&quot;</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Wind energy generation (-)&quot;</span><span class="p">,</span>
    <span class="n">legend</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="n">cm</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
<span class="p">)</span>
<span class="n">solar</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
    <span class="n">kind</span><span class="o">=</span><span class="s2">&quot;area&quot;</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Solar energy generation (-)&quot;</span><span class="p">,</span>
    <span class="n">legend</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="n">cm</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Axes: title={&#39;center&#39;: &#39;Solar energy generation (-)&#39;}, xlabel=&#39;time&#39;&gt;
</pre></div>
</div>
<img alt="_images/ac04e9638b40b866e372a821807057d6eca6cc577437a079d1cd4f2a9d01dcbe.png" src="_images/ac04e9638b40b866e372a821807057d6eca6cc577437a079d1cd4f2a9d01dcbe.png" />
</div>
</div>
</section>
<section id="analyse-the-plot">
<h3>Analyse the plot<a class="headerlink" href="#analyse-the-plot" title="Link to this heading">#</a></h3>
<p>From this figure we can see that the wind and solar energy generation are highly variable. This is due to the fact that the wind and solar energy generation are dependent on the weather conditions.This variability in the wind and solar energy generation can make it difficult to integrate these energy sources into the electricity grid. This is why it is important to have a mix of different energy sources, interconnection and storage in the electricity grid, so that the variability of the wind and solar energy generation can be balanced out by other energy system components.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<h4 class="rubric" id="capacity-factor">Capacity Factor</h4>
<p>The Capacity Factor is a measure of how often an energy source operates at its maximum output over a specific period, typically one year. It is defined as the ratio of the actual energy produced to the maximum possible energy that could have been produced if the system operated at its rated capacity continuously over the same period.</p>
<div class="amsmath math notranslate nohighlight">
\[\begin{equation*}
 \text{Capacity Factor} = \frac{E_{\text{actual}}}{P_{\text{rated}} \times T} 
\end{equation*}\]</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<h4 class="rubric" id="full-load-hours-flh">Full load hours (FLH)</h4>
<p>Full load hours are a good indicator of the variability of a renewable energy source. The Full Load Hours (FLH) represent the equivalent number of hours that a renewable energy system would need to operate at its rated capacity to generate the same amount of energy it actually produced over a specific period (typically one year).</p>
<div class="amsmath math notranslate nohighlight">
\[\begin{equation*}
\text{FLH} = \frac{E_{\text{annual}}}{P_{\text{rated}}} 
\end{equation*}\]</div>
<p>In contrast, dispatchable energy sources, such as coal, natural gas, and nuclear plants, could theoretically run continuously for the whole year, giving them a potential FLH of 8,760 hours, minus any downtime for maintenance or other interruptions. Typically, market conditions prevent these sources from getting near to these FLHs from occurring.</p>
</div>
<section id="statistical-indicators-of-energy-generation">
<h4>Statistical indicators of energy generation<a class="headerlink" href="#statistical-indicators-of-energy-generation" title="Link to this heading">#</a></h4>
<p>Lets determine the FLH per technology and the monthly capacity factor using the equations above.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># We have a unity scaled curve, we do not need to normalize the data by the rated power (since it is 1)</span>
<span class="n">solar_flh</span> <span class="o">=</span> <span class="n">solar</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> 
<span class="n">wind_flh</span> <span class="o">=</span> <span class="n">wind</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Wind FLH: </span><span class="si">{</span><span class="n">wind_flh</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> hours&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Solar FLH: </span><span class="si">{</span><span class="n">solar_flh</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> hours&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Wind FLH: 2554.05 hours
Solar FLH: 1362.12 hours
</pre></div>
</div>
</div>
</div>
<p>From this, we can conclude that the wind capacity factor is quite low (modern turbines get up to 3600 FLH on land). And the solar FLH is on the quite high side (typically around 1000 FLH in the Netherlands). Since we typically oversize solar power plants on the DC to AC ratio (more solar panels than inverters), we are safe to use this value.</p>
<p>It also becomes clear that wind has double the FLH of solar. Let us now determine the monthly capacity factor and plot it.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># since we have a unity scaled curve, we do not need to normalize the data (dividing by the rated power and time)</span>
<span class="n">solar_cf</span> <span class="o">=</span> <span class="n">solar</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">solar</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">month</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">wind_cf</span> <span class="o">=</span> <span class="n">wind</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">wind</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">month</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="c1"># Set up the matplotlib figure</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>

<span class="c1"># Combine the data into a single DataFrame for plotting</span>
<span class="n">combined_cf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;Wind&#39;</span><span class="p">:</span> <span class="n">wind_cf</span><span class="p">[</span><span class="s1">&#39;electricity&#39;</span><span class="p">],</span>
    <span class="s1">&#39;Solar&#39;</span><span class="p">:</span> <span class="n">solar_cf</span><span class="p">[</span><span class="s1">&#39;electricity&#39;</span><span class="p">]</span>
<span class="p">})</span>

<span class="n">combined_cf</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span>
    <span class="n">kind</span><span class="o">=</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Monthly capacity factor (-)&quot;</span><span class="p">,</span>
    <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">position</span><span class="o">=</span><span class="mf">0.5</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Axes: title={&#39;center&#39;: &#39;Monthly capacity factor (-)&#39;}, xlabel=&#39;time&#39;&gt;
</pre></div>
</div>
<img alt="_images/0a1474f3692d354fbfd901a4d812b78c7d86f934cfb9e29af5b3017dd19f0b8e.png" src="_images/0a1474f3692d354fbfd901a4d812b78c7d86f934cfb9e29af5b3017dd19f0b8e.png" />
</div>
</div>
<p>This figure illustrates the complementary seasonal patterns of wind and solar energy through their monthly capacity factors. Wind performs best in winter months, while solar shows peak performance in summer months.</p>
<p>These patterns have important implications for energy system design. The complementary nature of wind and solar suggests benefits in combining both technologies, though the relatively low capacity factors highlight why installed capacity must exceed average demand. The seasonal variations also emphasize the need for storage solutions or backup power sources to maintain reliable supply throughout the year.</p>
</section>
</section>
<section id="energy-demand-analysis">
<h3>Energy demand analysis<a class="headerlink" href="#energy-demand-analysis" title="Link to this heading">#</a></h3>
<p>Let us now analyse the energy demand. We will investigate it by determinging the:</p>
<ul class="simple">
<li><p>The distribution of demand across the categories based on <strong>energy</strong></p></li>
<li><p>The distribution of demand across the categories based on <strong>peak power</strong></p></li>
<li><p>The monthly normalized demand curve to get a feeling for the seasonal variation</p></li>
</ul>
<p>Before that, we’ll clean up our data and plot the energy demand.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># parse the index to datetime</span>
<span class="n">etm_demand_supply</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">etm_demand_supply</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>

<span class="c1">## filter on demand categories</span>
<span class="c1"># 1. select all colums that are demand (.input)</span>
<span class="c1"># 2. select all columns that are electricity</span>
<span class="c1"># 3. and exclude interconnectors and flexibility</span>
<span class="n">demand</span> <span class="o">=</span> <span class="n">etm_demand_supply</span><span class="p">[</span>
    <span class="p">[</span>
        <span class="n">col</span>
        <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">etm_demand_supply</span><span class="o">.</span><span class="n">columns</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="p">(</span><span class="s2">&quot;.input&quot;</span> <span class="ow">in</span> <span class="n">col</span> <span class="ow">and</span> <span class="s2">&quot;electricity&quot;</span> <span class="ow">in</span> <span class="n">col</span><span class="p">)</span>
            <span class="ow">and</span> <span class="nb">all</span><span class="p">(</span>
                <span class="p">[</span>
                    <span class="ow">not</span> <span class="n">excluder</span> <span class="ow">in</span> <span class="n">col</span>
                    <span class="k">for</span> <span class="n">excluder</span> <span class="ow">in</span> <span class="p">[</span>
                        <span class="s2">&quot;interconnector&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;flexibility&quot;</span><span class="p">,</span>
                    <span class="p">]</span>
                <span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>
    <span class="p">]</span>
<span class="p">]</span>
<span class="c1"># clean the column names</span>
<span class="n">demand</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">demand</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;.input&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;electricity (MW)&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">title</span><span class="p">()</span>
<span class="p">)</span>

<span class="c1"># calculate the summed, total, max and mean demand</span>
<span class="n">demand_total</span> <span class="o">=</span> <span class="n">demand</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>  <span class="c1"># number</span>
<span class="n">demand_summed</span> <span class="o">=</span> <span class="n">demand</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># series</span>
<span class="n">demand_mean</span> <span class="o">=</span> <span class="n">demand_summed</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>  <span class="c1"># number</span>
<span class="n">demand_max</span> <span class="o">=</span> <span class="n">demand_summed</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>  <span class="c1"># number</span>
</pre></div>
</div>
</div>
</div>
<section id="plot-the-energy-demand">
<h4>Plot the energy demand<a class="headerlink" href="#plot-the-energy-demand" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set up the matplotlib figure</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">gridspec_kw</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;height_ratios&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="p">]})</span>
<span class="c1">#  remove the figure of the second axes</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>


<span class="c1"># determine the top demand categories and sum the rest to &#39;other&#39;</span>
<span class="n">top_demand</span> <span class="o">=</span> <span class="n">demand</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">nlargest</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
<span class="n">other_demand</span> <span class="o">=</span> <span class="n">demand</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">top_demand</span><span class="p">)</span>

<span class="n">plottable_demand</span> <span class="o">=</span> <span class="n">demand</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="n">top_demand</span><span class="o">.</span><span class="n">index</span><span class="p">]</span>
<span class="n">plottable_demand</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="s2">&quot;Other&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">demand</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="n">other_demand</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># resample to daily data</span>
<span class="n">plottable_demand_daily</span> <span class="o">=</span> <span class="n">plottable_demand</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s2">&quot;D&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">div</span><span class="p">(</span><span class="mf">1e6</span><span class="p">)</span>

<span class="c1"># plot the demand categories</span>
<span class="n">plottable_demand_daily</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">kind</span><span class="o">=</span><span class="s2">&quot;area&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Electricity demand&quot;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">colormap</span><span class="o">=</span><span class="s2">&quot;Spectral&quot;</span>
<span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;TWh/day&quot;</span><span class="p">)</span>

<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span>
    <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3</span><span class="p">),</span>
    <span class="n">loc</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span>
    <span class="n">borderaxespad</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
    <span class="n">frameon</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Demand category&quot;</span><span class="p">,</span>
    <span class="n">ncol</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">fontsize</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Monthly normalized electricity demand</span>

<span class="n">monthly_demand</span> <span class="o">=</span> <span class="n">demand_summed</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s2">&quot;ME&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">div</span><span class="p">(</span><span class="mf">1e6</span><span class="p">)</span>
<span class="n">mean_monthly_demand</span> <span class="o">=</span> <span class="n">monthly_demand</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">mne_demand</span> <span class="o">=</span> <span class="n">monthly_demand</span> <span class="o">/</span> <span class="n">mean_monthly_demand</span>

<span class="c1"># overwrite the monthly demand with the plottable demand</span>
<span class="n">monthly_demand</span> <span class="o">=</span> <span class="n">plottable_demand</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s2">&quot;ME&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c1"># Set up the matplotlib figure</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="c1"># make the index a pretty string</span>
<span class="n">monthly_demand</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">monthly_demand</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%b&quot;</span><span class="p">)</span>
<span class="n">mne_demand</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">mne_demand</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%b&quot;</span><span class="p">)</span>

<span class="n">monthly_demand</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
    <span class="n">kind</span><span class="o">=</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span>
    <span class="n">stacked</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Monthly electricity demand&quot;</span><span class="p">,</span>
    <span class="n">legend</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">colormap</span><span class="o">=</span><span class="s2">&quot;Spectral&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;TWh&quot;</span><span class="p">)</span>
<span class="c1"># add a horizontal line for the mean</span>

<span class="n">mne_demand</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
    <span class="n">kind</span><span class="o">=</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Normalized monthly electricity demand&quot;</span><span class="p">,</span>
    <span class="n">legend</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="n">cm</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
<span class="p">)</span>

<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="c1"># add a horizontal line for the mean</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s2">&quot;--&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.lines.Line2D at 0x7f3ef2e32d50&gt;
</pre></div>
</div>
<img alt="_images/7b5f2f3410f2b003425bf65265207ecad50873adf9808cd3368f008f2f0c92f1.png" src="_images/7b5f2f3410f2b003425bf65265207ecad50873adf9808cd3368f008f2f0c92f1.png" />
<img alt="_images/7b8c4ed31ab21dfd42257ed20573927cd4d813b04f47e5bb6def32ff02305c9f.png" src="_images/7b8c4ed31ab21dfd42257ed20573927cd4d813b04f47e5bb6def32ff02305c9f.png" />
</div>
</div>
</section>
</section>
<section id="analysis-of-electricity-demand-curves">
<h3>Analysis of electricity demand curves<a class="headerlink" href="#analysis-of-electricity-demand-curves" title="Link to this heading">#</a></h3>
<p>From this figure we can observe a lot of weekly cyclic behaviour - showing higher demand during weekdays and noticeable drops during weekends - because of industrial demand. Furthermore, the energy demand is higher in the winter than during the summer period. Also, we can see a longer period with high demand from space heating in the first three weeks of February. We will have to keep this in mind when we do system integration, as we now have some sort of idea what might form a pinch point for this energy system.</p>
<p>The seasonal pattern aligns with what we saw earlier in the renewable generation capacity factors, which will be critical for matching supply and demand.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">energy_share</span> <span class="o">=</span> <span class="n">demand</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="o">/</span> <span class="n">demand_total</span>  <span class="c1"># left hand is a series, right hand is a number</span>

<span class="n">peak_demand_share</span> <span class="o">=</span> <span class="n">demand</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">/</span> <span class="n">demand_max</span> <span class="c1"># left hand is a series, right hand is a number</span>
<span class="n">peak_demand_share</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>


<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">hspace</span><span class="o">=</span><span class="mf">0.4</span><span class="p">)</span>
<span class="n">subset_peak_demand</span> <span class="o">=</span> <span class="n">peak_demand_share</span><span class="o">.</span><span class="n">nlargest</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span><span class="o">.</span><span class="n">mul</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="n">corresponding_energy_share</span> <span class="o">=</span> <span class="n">energy_share</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">subset_peak_demand</span><span class="o">.</span><span class="n">index</span><span class="p">]</span><span class="o">.</span><span class="n">mul</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>

<span class="n">combined_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s2">&quot;Peak demand share (%)&quot;</span><span class="p">:</span> <span class="n">subset_peak_demand</span><span class="p">,</span>
    <span class="s2">&quot;Energy share (%)&quot;</span><span class="p">:</span> <span class="n">corresponding_energy_share</span>
<span class="p">})</span>

<span class="n">combined_df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span>
    <span class="n">kind</span><span class="o">=</span><span class="s2">&quot;barh&quot;</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Peak demand and energy share&quot;</span><span class="p">,</span>
    <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">colormap</span><span class="o">=</span><span class="s2">&quot;coolwarm&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Axes: title={&#39;center&#39;: &#39;Peak demand and energy share&#39;}&gt;
</pre></div>
</div>
<img alt="_images/2f60561fcb594789bb1f9cbfc767b21b6a9c605785ad9137b62eb5bcf8785928.png" src="_images/2f60561fcb594789bb1f9cbfc767b21b6a9c605785ad9137b62eb5bcf8785928.png" />
</div>
</div>
</section>
<section id="analysis-of-peak-energy-and-energy-share-graph">
<h3>Analysis of peak energy and energy share graph<a class="headerlink" href="#analysis-of-peak-energy-and-energy-share-graph" title="Link to this heading">#</a></h3>
<p>The most notable insight is the large mismatch for heat pumps - while they only account for about 3% of total energy consumption, they are responsible for nearly 17% of peak demand. This makes them a critical consideration for system design.
In contrast, industrial and transport sectors show more balanced patterns, with their peak demand shares more closely matching their energy shares (around 7-10%). This indicates more steady consumption patterns throughout the year. These insights help identify where we need to focus on peak management strategies like storage or demand response to ensure system reliability.</p>
</section>
</section>
<section id="conclusion">
<h2>Conclusion<a class="headerlink" href="#conclusion" title="Link to this heading">#</a></h2>
<p>The analysis of renewable generation and demand patterns reveals several crucial insights for energy system integration. The complementary seasonal patterns of wind and solar generation (wind peaking in winter, solar in summer) provide opportunities for balancing, though their relatively low capacity factors necessitate significant oversizing of installed capacity.</p>
<p>Demand analysis shows strong seasonal and weekly patterns, with winter peaks driven largely by heating demand. A critical challenge emerges from heat pumps, which despite their modest share of total energy consumption (3%), contribute significantly to peak demand (17%). This mismatch, combined with the variability of renewable generation, highlights the importance of system flexibility through measures such as storage, demand response, and sector coupling. Understanding these patterns and relationships is fundamental for designing reliable and efficient integrated energy systems that can manage both seasonal variations and peak demand events.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="intro.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Welcome</p>
      </div>
    </a>
    <a class="right-next"
       href="01-exercises-data-analysis.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">1 exercises: Data analysis</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fetching-the-data">Fetching the data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#renewable-generation">Renewable generation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#wind-energy-generation-parameters">Wind energy generation parameters</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#solar-energy-generation-parameters">Solar energy generation parameters</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#energy-demand">Energy demand</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#load-the-data">Load the data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#visualise-the-generation-data">Visualise the generation data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#analyse-the-plot">Analyse the plot</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#statistical-indicators-of-energy-generation">Statistical indicators of energy generation</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#energy-demand-analysis">Energy demand analysis</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#plot-the-energy-demand">Plot the energy demand</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#analysis-of-electricity-demand-curves">Analysis of electricity demand curves</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#analysis-of-peak-energy-and-energy-share-graph">Analysis of peak energy and energy share graph</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion">Conclusion</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Seth van Wieringen
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>